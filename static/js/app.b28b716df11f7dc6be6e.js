webpackJsonp([1],{"0uTI":function(t,e){},"2crx":function(t,e){},"4cBP":function(t,e){},"6O6A":function(t,e){},E0Bh:function(t,e){},Lac0:function(t,e){},MiLn:function(t,e){},NHnr:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s("O534"),i={name:"app",data:function(){return{showShare:!1,hasInitMusic:!1,showDialog:!1,msg:"未知错误",progress:0,curProgress:0,circleDasharray:0,imgToalCount:0,notLoadImgCount:0}},mounted:function(){var t=this;this.preLoad(),this.$nextTick(function(){t.transionTarget(),t.$bus.$on("pop-alert",function(e){t.showDialog=!0,t.msg=e}),t.$bus.$on("pop-share",function(e){t.showShare=!0});var e=document.getElementById("bg-music");e&&e.play();t.$el.addEventListener("click",function s(){e&&e.play(),t.$el.removeEventListener("click",s)})})},watch:{notLoadImgCount:function(){this.progress=100-Math.round(this.notLoadImgCount/this.imgToalCount*100)}},methods:{tryMusic:function(){if(!this.hasInitMusic&&window.isIOS){this.hasInitMusic=!0;var t=document.getElementById("bg-music");t&&t.play()}},closeDialog:function(){this.showDialog=!1},transionTarget:function(){var t=this;if(!(this.curProgress>=100)){var e=this.curProgress<this.progress?5:30;this.curProgress<Math.max(30,this.progress)?this.curProgress++:this.curProgress=Math.max(30,this.progress),this.circleDasharray=Math.round(this.curProgress/100*2*Math.PI*20)+" 1069",setTimeout(function(){t.transionTarget()},e)}},preLoad:function(){var t=this,e=["/static/img/caidai.png","/static/img/cloud1.png","/static/img/cloud2.png","/static/img/eyes.png","/static/img/fu.png","/static/img/lu.png","/static/img/shou.png","/static/img/xi.png","/static/img/fudog.png","/static/img/ludog.png","/static/img/shoudog.png","/static/img/xidog.png","/static/img/fudog_error.png","/static/img/ludog_error.png","/static/img/shoudog_error.png","/static/img/xidog_error.png","/static/img/game_text.png","/static/img/game-bottom.jpg","/static/img/game-top.jpg","/static/img/home.jpg","/static/img/home_text.png","/static/img/horse.jpg","/static/img/horse_active.jpg","/static/img/last.jpg","/static/img/logo.png","/static/img/logo2.png","/static/img/loterryBtn.png","/static/img/lotteryBg.jpg","/static/img/rank1.png","/static/img/rank2.png","/static/img/rank3.png","/static/img/smile.png","/static/img/text.png"];this.imgToalCount=e.length,this.notLoadImgCount=e.length,e.forEach(function(e){var s=new Image;s.src=e,s.onload=function(){t.notLoadImgCount--},s.onerror=function(){t.notLoadImgCount--}})}}},n={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"app"}},[s("div",{directives:[{name:"show",rawName:"v-show",value:t.curProgress<100,expression:"curProgress < 100"}],staticClass:"loading"},[s("div",{staticClass:"loading-cycle"},[s("svg",{staticClass:"loading-svg",attrs:{width:60,height:60}},[s("circle",{attrs:{cx:30,cy:30,r:20,"stroke-width":"10",stroke:"#fed744",fill:"none"}}),t._v(" "),s("circle",{attrs:{cx:30,cy:30,r:20,"stroke-width":"10",stroke:"#d35155",fill:"none","stroke-dasharray":t.circleDasharray}})]),t._v(" "),s("br"),t._v("\n      "+t._s(t.curProgress)+"%\n    ")])]),t._v(" "),t.curProgress>=100?s("router-view"):t._e(),t._v(" "),s("audio",{attrs:{id:"bg-music",src:"http://pandora-project.oss-cn-shenzhen.aliyuncs.com/AdorableDog/static/music/bg.mp3",preload:"",loop:""}}),t._v(" "),s("audio",{attrs:{id:"right-music",src:"http://pandora-project.oss-cn-shenzhen.aliyuncs.com/AdorableDog/static/music/right.mp3",preload:""}}),t._v(" "),s("audio",{attrs:{id:"error-music",src:"http://pandora-project.oss-cn-shenzhen.aliyuncs.com/AdorableDog/static/music/error.mp3",preload:""}}),t._v(" "),s("audio",{attrs:{id:"time-music",src:"http://pandora-project.oss-cn-shenzhen.aliyuncs.com/AdorableDog/static/music/time.mp3",preload:""}}),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:t.showDialog,expression:"showDialog"}],staticClass:"global-dialog"},[s("div",{staticClass:"dialog-box"},[s("div",{staticClass:"close",on:{click:t.closeDialog}},[s("span",{staticClass:"close-btn"},[t._v("×")])]),t._v(" "),s("div",{staticStyle:{"text-align":"center"}},[s("img",{staticClass:"not-reward",attrs:{src:"/static/img/smile.png"}}),t._v(" "),s("p",{staticClass:"reward-name-small",staticStyle:{"font-size":"1.8rem"}},[t._v(t._s(t.msg))]),t._v(" "),s("div",{staticClass:"operation"},[s("span",{staticClass:"operation-btn",on:{click:function(e){e.preventDefault(),t.closeDialog(e)}}},[t._v("确定")])])])])]),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:t.showShare,expression:"showShare"}],staticClass:"global-share",on:{click:function(e){t.showShare=!1}}},[s("img",{attrs:{src:"/static/img/share.png"}})])],1)},staticRenderFns:[]};var r=s("ngHh")(i,n,!1,function(t){s("4cBP")},null,null).exports,o=s("1eSk"),c={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"ruler-intro"},[s("p",[t._v("1、根据萌犬的不同颜色，依次选择对应颜色的福禄寿喜。")]),t._v(" "),s("p",[t._v("2、选择匹配的正确颜色越多，分数越多，加油吧！")]),t._v(" "),s("p",[t._v("3、达到20000分即可参与抽奖，每人每天仅可抽奖2次，中奖后请记得填写寄送信息哦。奖品丰厚，数量有限，加油冲分吧！")]),t._v(" "),t._m(0),t._v(" "),t._m(1),t._m(2),t._v(" "),s("p",[t._v("本活动最终解释权归主办方所有。")]),t._v(" "),s("div",{staticClass:"start-panel"},[s("router-link",{staticClass:"btn-link",class:{empty:"game"!==t.$route.name},attrs:{to:{name:t.$route.name}},on:{click:function(t){t.preventDefault(),t.stopPropagation()}}},[t._v("返回")]),t._v(" "),s("router-link",{directives:[{name:"show",rawName:"v-show",value:"game"!==t.$route.name,expression:"$route.name !== 'game'"}],staticClass:"btn-link",attrs:{to:{name:"game"}},on:{click:function(t){t.preventDefault(),t.stopPropagation()}}},[s("span",{},[t._v("开始")])])],1)])},staticRenderFns:[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("p",[t._v("4、活动结束后，排行榜前20名将获得以下丰厚礼品："),s("br"),t._v(" "),s("span",{staticClass:"orange-text"},[t._v("第1名：红米手机 1台")]),s("br"),t._v(" "),s("span",{staticClass:"orange-text"},[t._v("第2名：高档压杆箱 1个")]),s("br"),t._v(" "),s("span",{staticClass:"orange-text"},[t._v("第3名：美的电压力锅 1套")]),s("br"),t._v(" "),s("span",{staticClass:"orange-text"},[t._v("1~20名榜单奖：国味新年礼1份")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("p",[t._v("活动时间："),s("br"),t._v(" "),s("span",{staticClass:"orange-text"},[t._v("2018年2月5日—2月10日")]),s("br")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("为给您更好的游戏体验，每日游戏开启时间为："),e("span",{staticClass:"orange-text"},[this._v("7：00—23：59")])])}]};var l=s("ngHh")({name:"app",data:function(){return{}},mounted:function(){},methods:{}},c,!1,function(t){s("MiLn")},null,null).exports,u=s("UIuv"),d=s.n(u),m=s("gCy3"),g=s.n(m),h={name:"app",data:function(){return{personInfo:{},rankList:[]}},mounted:function(){this.fetchData(),this.getRewardInfo()},methods:{openShare:function(){this.$bus.$emit("pop-share")},getRewardInfo:function(){var t=this;g.a.post("/Index/UserRecord").then(function(e){var s=e.data;if(1!==s.Code)return d.a.reject(s);var a=s.Data;t.personInfo={pic:a.UserLogo,name:a.NickName,bestScore:a.MaxScore,rank:a.Ranking}}).catch(function(t){console.log(t)})},fetchData:function(){var t=this;g.a.post("/Index/GmaeStatue").then(function(e){var s=e.data;if(1!==s.Code)return d.a.reject(s);var a=s.Data;t.rankList=a.RankingList}).catch(function(t){console.log(t)}),console.log("fetching data...")}}},v={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"rank-panel"},[s("div",{staticClass:"my-rank"},[s("div",{staticClass:"my-pic"},[s("img",{attrs:{src:t.personInfo.pic}})]),t._v(" "),s("div",{staticClass:"my-info"},[s("div",{staticClass:"my-info-name"},[t._v(t._s(t.personInfo.name))]),t._v(" "),s("div",{staticClass:"my-info-score"},[t._v("最好成绩 "),s("span",{staticClass:"orange-text"},[t._v(t._s(t.personInfo.bestScore))])]),t._v(" "),s("div",{staticClass:"my-info-score"},[t._v("全国排名 "),s("span",{staticClass:"orange-text"},[t._v(t._s(t.personInfo.rank))])])])]),t._v(" "),s("div",{staticClass:"content-panel"},[s("ul",{staticClass:"content"},t._l(t.rankList,function(e){return s("li",{key:e.Sort},[s("div",{staticClass:"ranking-section"},[s("span",{staticClass:"rank"},[t._v(t._s(e.Sort))]),t._v(" "),s("img",{staticClass:"avatar",attrs:{src:e.HeadUrl}}),t._v(" "),s("span",{staticClass:"name"},[t._v(t._s(e.NickName))]),t._v(" "),s("span",{staticClass:"score"},[t._v(t._s(e.Score))])])])}))]),t._v(" "),s("div",{staticClass:"start-panel"},[s("router-link",{staticClass:"btn-link empty",attrs:{to:{name:t.$route.name}},on:{click:function(t){t.preventDefault(),t.stopPropagation()}}},[t._v("返回")]),t._v(" "),s("span",{staticClass:"btn-link",on:{click:function(e){e.preventDefault(),e.stopPropagation(),t.openShare(e)}}},[s("span",{},[t._v("求PK")])])],1)])},staticRenderFns:[]};var p={name:"app",data:function(){return{rewards:[]}},mounted:function(){this.getRewardInfo()},methods:{goInfo:function(t){this.$router.push({name:"info",query:{index:t}})},getRewardInfo:function(){var t=this;console.log("success"),g.a.post("/Index/UserRecord").then(function(e){var s=e.data;if(1!==s.Code)return d.a.reject(s);var a=s.Data;window.$rewards=a.AwardRecord,console.log(window.$rewards),t.rewards=a.AwardRecord}).catch(function(t){console.log(t)})}}},f={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"reward"},[t._l(t.rewards,function(e,a){return s("p",{key:e.AwardId,staticClass:"reward-item"},[s("span",{staticClass:"reward-info"},[t._v(t._s(a+1)+"、"+t._s(e.AwardName))]),t._v(" "),s("span",{staticClass:"info-btn",on:{click:function(e){t.goInfo(a)}}},[t._v("查看")])])}),t._v(" "),s("p",{directives:[{name:"show",rawName:"v-show",value:!t.rewards.length,expression:"!rewards.length"}],staticClass:"no-reward"},[t._v("还没获得奖品哦"),s("br"),t._v("多多努力赢取大奖吧")]),t._v(" "),s("div",{staticClass:"start-panel"},[s("router-link",{staticClass:"btn-link",class:{empty:"game"!==t.$route.name},attrs:{to:{name:t.$route.name}},on:{click:function(t){t.preventDefault(),t.stopPropagation()}}},[t._v("返回")]),t._v(" "),s("router-link",{directives:[{name:"show",rawName:"v-show",value:"game"!==t.$route.name,expression:"$route.name !== 'game'"}],staticClass:"btn-link",attrs:{to:{name:"game"}},on:{click:function(t){t.preventDefault(),t.stopPropagation()}}},[s("span",{},[t._v("开始")])])],1)],2)},staticRenderFns:[]};var w={name:"app",data:function(){return{currentView:"ruler"}},watch:{$route:function(){this.$route.query.tab&&(this.currentView=this.$route.query.tab)}},components:{ruler:l,rank:s("ngHh")(h,v,!1,function(t){s("E0Bh")},null,null).exports,myreward:s("ngHh")(p,f,!1,function(t){s("Rmdg")},null,null).exports},mounted:function(){this.currentView=this.$route.query.tab},methods:{}},_={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"rule"},[s("div",{staticClass:"inner-box"},[s("div",{staticClass:"banner-title"},[s("router-link",{staticClass:"tab-link",class:{active:t.$route.query&&"ruler"===t.$route.query.tab},attrs:{to:{name:t.$route.name,query:{tab:"ruler"}}}},[t._v("活动规则")]),t._v(" "),s("span",{staticClass:"slider"}),t._v(" "),s("router-link",{staticClass:"tab-link",class:{active:t.$route.query&&"rank"===t.$route.query.tab},attrs:{to:{name:t.$route.name,query:{tab:"rank"}}}},[t._v("排行榜")]),t._v(" "),s("span",{staticClass:"slider"}),t._v(" "),s("router-link",{staticClass:"tab-link",class:{active:t.$route.query&&"myreward"===t.$route.query.tab},attrs:{to:{name:t.$route.name,query:{tab:"myreward"}}}},[t._v("我的奖品")])],1),t._v(" "),s(t.currentView,{tag:"component"})],1)])},staticRenderFns:[]};var C=s("ngHh")(w,_,!1,function(t){s("6O6A")},null,null).exports,b={name:"home",data:function(){return{appear:!1,eyeTimer:"",movetion:{start:0,begin:0,end:200,during:100},target:""}},components:{rule:C},mounted:function(){var t=this;this.$nextTick(function(){t.appear=!0,t.target=t.$el.querySelector(".bg-img-text"),t.dropdown(),t.moveEyes()})},beforeDestroy:function(){clearInterval(this.eyeTimer)},methods:{startGame:function(){this.$router.push({name:"home",query:{tab:"ruler"}})},moveEyes:function(){var t=this.$el.querySelector(".bg-img-eye-left"),e=this.$el.querySelector(".bg-img-eye-right");this.eyeTimer=setInterval(function(){var s=(Math.random()-.6).toFixed(1),a=Math.random().toFixed(1);t.style.transform="translateY("+s+"rem) translateX("+a+"rem)",e.style.transform="translateY("+s+"rem) translateX("+a+"rem)"},1e3)},dropdown:function(){var t,e,s,a,i=(t=this.movetion.start,e=this.movetion.begin,s=this.movetion.end,a=this.movetion.during,(t/=a)<1/2.75?s*(7.5625*t*t)+e:t<2/2.75?s*(7.5625*(t-=1.5/2.75)*t+.75)+e:t<2.5/2.75?s*(7.5625*(t-=2.25/2.75)*t+.9375)+e:s*(7.5625*(t-=2.625/2.75)*t+.984375)+e);this.target&&(this.target.style.transform="translateY("+(i-200)+"px)"),this.movetion.start++,this.movetion.start<this.movetion.during&&requestAnimationFrame(this.dropdown)}}},k={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"home-page"},[s("transition",{attrs:{name:"fade"}},[s("div",{directives:[{name:"show",rawName:"v-show",value:t.appear,expression:"appear"}]},[s("img",{staticClass:"bg-img",attrs:{src:"/static/img/home.jpg"}}),t._v(" "),s("img",{staticClass:"bg-img-eye-left",attrs:{src:"/static/img/eyes.png"}}),t._v(" "),s("img",{staticClass:"bg-img-eye-right",attrs:{src:"/static/img/eyes.png"}})])]),t._v(" "),s("img",{staticClass:"bg-img-text",attrs:{src:"/static/img/home_text.png"}}),t._v(" "),s("div",{staticClass:"rightside"},[s("div",{staticClass:"rightside-btn",on:{click:function(e){e.preventDefault(),t.$router.push({name:"home",query:{tab:"rank"}})}}},[t._v("排行榜")]),t._v(" "),s("div",{staticClass:"rightside-btn",on:{click:function(e){e.preventDefault(),t.$router.push({name:"home",query:{tab:"myreward"}})}}},[t._m(0)])]),t._v(" "),s("div",{staticClass:"option-panel"},[s("span",{staticClass:"start-btn",on:{click:function(e){e.preventDefault(),t.startGame()}}},[t._v("开始游戏")]),t._v(" "),s("img",{staticClass:"logo-img",attrs:{src:"/static/img/logo.png"}})]),t._v(" "),s("rule",{directives:[{name:"show",rawName:"v-show",value:t.$route.query.tab,expression:"$route.query.tab"}]})],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"btn-text"},[this._v("我的"),e("br"),this._v("奖品")])}]};var x=s("ngHh")(b,k,!1,function(t){s("T7vy")},null,null).exports,y=s("TOsV"),$=s.n(y),D={name:"game",data:function(){return{canDraw:!0,appear:!1,dogs:["fudog","ludog","shoudog","xidog"],items:[],lock:!1,clickCount:0,time:20,score:0,gameStart:!1,showDialog:!1,touchEarth:!1,movetion:{start:0,begin:0,end:200,during:50},target:"",firework:"",fireworkTimer:"",showTextEffect:"",beginNum:3,addTips:"",handIn:"",hasCheck:!1,rightMusic:"",errorMusic:""}},components:{rule:C},beforeDestroy:function(){clearInterval(this.fireworkTimer),clearTimeout(this.scenceTimer)},mounted:function(){var t=this;setTimeout(function(){t.countEffect()},50);var e=1;this.items=this.dogs.map(function(t){return{dog:t,time:e++,clickError:!1}}),this.target=this.$el.querySelector(".bg-img-top"),window.tarHeight=this.target.style.Height,setTimeout(function(){t.dropdown()},500),this.rightMusic=document.getElementById("right-music"),this.errorMusic=document.getElementById("error-music"),this.timeMusic=document.getElementById("time-music"),setTimeout(function(){t.appear=!0},1e3)},methods:{getDrawTime:function(){var t=this;return g.a.post("/Index/UserRecord").then(function(e){var s=e.data;if(1!==s.Code)return d.a.reject(s);var a=s.Data;t.canDraw=a.DrawNum>0}).catch(function(t){console.log(t)})},openShare:function(){this.$bus.$emit("pop-share")},directClick:function(t){if(1===t){this.addTips=2,this.handIn=2;var e={dog:this.dogs[Math.floor(4*Math.random())],time:(new Date).getTime(),clickError:!1};this.clickCount=this.clickCount>100?0:this.clickCount+1,this.items.splice(0,0,e),this.items.splice(this.items.length-1,1),this.playMusic("rightMusic")}if(2===t){this.addTips="";var s={dog:this.dogs[Math.floor(4*Math.random())],time:(new Date).getTime(),clickError:!1};this.clickCount=this.clickCount>100?0:this.clickCount+1,this.items.splice(0,0,s),this.items.splice(this.items.length-1,1),this.playMusic("rightMusic"),localStorage.setItem("hasClick",1)}console.log("click")},countEffect:function(){var t=this;this.beginNum>0?(this.showTextEffect=this.beginNum,setTimeout(function(){t.playMusic("timeMusic"),t.showTextEffect=""},500),setTimeout(function(){t.beginNum--,t.countEffect()},1e3)):(this.showTextEffect="GO",setTimeout(function(){t.playMusic("timeMusic"),t.showTextEffect="",t.beginNum--,t.hasCheck=!!(localStorage.getItem("hasClick")-0),t.hasCheck||(t.addTips=1,setTimeout(function(){t.handIn=1},50))},500))},dropdown:function(){var t,e,s,a,i=(t=this.movetion.start,e=this.movetion.begin,s=this.movetion.end,a=this.movetion.during,(t/=a)<1/2.75?s*(7.5625*t*t)+e:t<2/2.75?s*(7.5625*(t-=1.5/2.75)*t+.75)+e:t<2.5/2.75?s*(7.5625*(t-=2.25/2.75)*t+.9375)+e:s*(7.5625*(t-=2.625/2.75)*t+.984375)+e);!this.touchEarth&&i>=200&&(this.touchEarth=!0),this.target&&(this.target.style.transform="scaleY("+i/200+")"),this.movetion.start++,this.movetion.start<this.movetion.during&&requestAnimationFrame(this.dropdown)},updateScore:function(){var t=$.a.stringify({score:this.score});g.a.post("/Index/SaveScore",t,{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(function(t){var e=t.data;if(1!==e.Code)return d.a.reject(e)}).catch(function(t){console.log(t)})},jumpLottery:function(){this.$router.push({name:"lottery",query:{score:this.score}})},renderScence:function(){var t=this;this.time--,this.time>=0?(this.playMusic("timeMusic"),this.scenceTimer=setTimeout(function(){t.renderScence()},1e3)):(this.time=0,this.gameOver())},gameOver:function(){var t=this;this.lock=!0,this.getDrawTime().then(function(){t.showDialog=!0,t.updateScore()}).catch(function(){t.showDialog=!0,t.updateScore()})},restart:function(){this.showDialog=!1,this.gameStart=!1,this.time=20,this.score=0,this.lock=!1},playMusic:function(t){this[t]&&(this[t].pause(),this[t].currentTime=0,this[t].play())},update:function(t){var e=this;if(!this.addTips&&!this.lock){this.gameStart||(this.gameStart=!0,this.renderScence());var s=this.items[this.items.length-1];if(0===s.dog.indexOf(t)){var a={dog:this.dogs[Math.floor(4*Math.random())],time:(new Date).getTime(),clickError:!1};this.clickCount=this.clickCount>100?0:this.clickCount+1,this.items.splice(0,0,a),this.items.splice(this.items.length-1,1),this.score=this.score+600,this.playMusic("rightMusic")}else this.lock=!0,s.clickError=!0,this.playMusic("errorMusic"),-1===s.dog.indexOf("_error")&&(s.dog=s.dog+"_error"),setTimeout(function(){e.lock=!1,s.clickError=!1},500)}},add:function(){},remove:function(){}}},I={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"game-page"},[s("div",{directives:[{name:"show",rawName:"v-show",value:t.beginNum>=0,expression:"beginNum >= 0"}],staticClass:"fade-text-hover"},[s("transition",{attrs:{name:"fade-text"}},[s("div",{directives:[{name:"show",rawName:"v-show",value:t.showTextEffect,expression:"showTextEffect"}],staticClass:"text-effect"},[t._v(t._s(t.showTextEffect))])])],1),t._v(" "),s("img",{staticClass:"bg-img-top",attrs:{src:"/static/img/game-top.jpg"}}),t._v(" "),s("img",{staticClass:"bg-img-bottom",attrs:{src:"/static/img/game-bottom.jpg"}}),t._v(" "),s("transition",{attrs:{name:"fade"}},[s("div",{directives:[{name:"show",rawName:"v-show",value:t.appear,expression:"appear"}]},[s("img",{staticClass:"bg-img-cloud1",attrs:{src:"/static/img/cloud1.png"}}),t._v(" "),s("img",{staticClass:"bg-img-cloud2",attrs:{src:"/static/img/cloud2.png"}}),t._v(" "),s("img",{staticClass:"bg-img-fire",attrs:{src:"/static/img/fire.png"}}),t._v(" "),s("img",{staticClass:"bg-img-text",attrs:{src:"/static/img/game_text.png"}})])]),t._v(" "),s("div",{staticClass:"content-box"},[s("div",{staticClass:"score-panel"},[t._m(0),t._v(" "),s("div",{staticClass:"bottom"},[s("span",[t._v(t._s(t.score)+"分")])])]),t._v(" "),s("div",{staticClass:"leftside"},[s("div",{staticClass:"leftside-btn"},[s("span",{staticClass:"btn-text"},[t._v("倒计时")]),t._v(" "),s("span",{staticClass:"btn-text-time"},[t._v(t._s(t.time)+"s")])])]),t._v(" "),s("div",{staticClass:"img-dog-panel"},[s("transition-group",{attrs:{name:t.clickCount%2?"list":"list-left",tag:"p"}},t._l(t.items,function(t,e){return s("span",{key:t.time,staticClass:"img-dog",class:"order"+e},[s("img",{class:{"click-error":t.clickError},attrs:{src:"/static/img/"+t.dog+".png"}})])}))],1),t._v(" "),s("div",{staticClass:"btns"},[s("span",{staticClass:"img-btn fu",on:{click:function(e){e.preventDefault(),t.update("fudog")}}},[s("img",{attrs:{src:"/static/img/fu.png"}})]),t._v(" "),s("span",{staticClass:"img-btn lu",on:{click:function(e){e.preventDefault(),t.update("ludog")}}},[s("img",{attrs:{src:"/static/img/lu.png"}})]),t._v(" "),s("div",{staticClass:"img-btn shou"},[s("span",{on:{click:function(e){e.preventDefault(),t.update("shoudog")}}},[s("img",{attrs:{src:"/static/img/shou.png"}})]),t._v(" "),2===t.addTips?s("div",{staticClass:"click-tip",on:{click:function(e){t.directClick(2)}}},[s("transition",{attrs:{name:"right-in"}},[2===t.handIn?s("img",{staticClass:"click-tip-finger",attrs:{src:"/static/img/finger.png"}}):t._e()]),t._v(" "),s("div",{staticClass:"w1"}),t._v(" "),s("div",{staticClass:"w2"}),t._v(" "),s("div",{staticClass:"w3"})],1):t._e()]),t._v(" "),s("div",{staticClass:"img-btn xi"},[s("span",{on:{click:function(e){e.preventDefault(),t.update("xidog")}}},[s("img",{attrs:{src:"/static/img/xi.png"}})]),t._v(" "),1===t.addTips?s("div",{staticClass:"click-tip",on:{click:function(e){t.directClick(1)}}},[s("transition",{attrs:{name:"right-in"}},[1===t.handIn?s("img",{staticClass:"click-tip-finger",attrs:{src:"/static/img/finger.png"}}):t._e()]),t._v(" "),s("div",{staticClass:"w1"}),t._v(" "),s("div",{staticClass:"w2"}),t._v(" "),s("div",{staticClass:"w3"})],1):t._e()])])]),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:t.showDialog,expression:"showDialog"}],staticClass:"my-dialog"},[s("div",{staticClass:"dialog-head"},[s("img",{attrs:{src:"/static/img/caidai.png"}}),t._v(" "),s("span",{staticClass:"dialog-head-text"},[t._v(t._s(t.score)),s("span",{staticStyle:{"font-size":"1.4rem"}},[t._v(" 分")])])]),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:t.canDraw&&t.score>=2e4,expression:"canDraw && score >= 20000"}],staticClass:"dialog-box"},[s("div",{staticClass:"loterry-button-hover",on:{click:t.jumpLottery}},[s("img",{staticClass:"loterry-button",attrs:{src:"/static/img/loterryBtn.png"}})]),t._v(" "),s("div",{staticClass:"button-panel"},[s("span",{staticClass:"dialog-btn rank-list",on:{click:function(e){e.preventDefault(),t.$router.push({name:t.$route.name,query:{tab:"rank"}})}}},[t._v("排行榜")]),t._v(" "),s("span",{staticClass:"dialog-btn rank-list",staticStyle:{"font-size":"1.6rem"},on:{click:function(e){e.preventDefault(),t.openShare(e)}}},[t._v("求PK")])])]),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:!t.canDraw&&t.score>=2e4,expression:"!canDraw && score >= 20000"}],staticClass:"dialog-box"},[t._m(1),t._v(" "),s("div",{staticClass:"button-panel"},[s("span",{staticClass:"dialog-btn rank-list",staticStyle:{"font-size":"1.6rem"},on:{click:function(e){e.preventDefault(),t.openShare(e)}}},[t._v("求PK")]),t._v(" "),s("span",{staticClass:"dialog-btn rank-list",staticStyle:{"font-size":"1.6rem"},on:{click:function(e){e.preventDefault(),t.$router.push({name:"home"})}}},[t._v("返回首页")]),t._v(" "),s("span",{staticClass:"dialog-btn rank-list",on:{click:function(e){e.preventDefault(),t.$router.push({name:t.$route.name,query:{tab:"rank"}})}}},[t._v("排行榜")])])]),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:t.score<2e4,expression:"score < 20000"}],staticClass:"dialog-box"},[s("p",{staticClass:"dialog-fail"},[t._v("挑战失败")]),t._v(" "),s("p",{staticClass:"dialog-fail small"},[t._v("不要灰心，继续努力哦")]),t._v(" "),s("div",{staticClass:"button-panel"},[s("span",{staticClass:"dialog-btn",on:{click:function(e){e.preventDefault(),t.$router.push({name:t.$route.name,query:{tab:"rank"}})}}},[t._v("排行榜")]),s("br"),t._v(" "),s("span",{staticClass:"dialog-btn rank-list",staticStyle:{"font-size":"1.6rem"},on:{click:function(e){e.preventDefault(),t.restart(e)}}},[t._v("再来一局")]),s("br"),t._v(" "),s("span",{staticClass:"dialog-btn rank-list",staticStyle:{"font-size":"1.6rem"},on:{click:function(e){e.preventDefault(),t.openShare(e)}}},[t._v("求PK")])])])]),t._v(" "),s("rule",{directives:[{name:"show",rawName:"v-show",value:t.$route.query.tab,expression:"$route.query.tab"}]})],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"top"},[e("span",[this._v("当前得分")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",{staticClass:"dialog-fail no-chance"},[this._v("您今天的抽奖机会已用完。"),e("br"),this._v("每人每天有两次抽奖机会，请明天继续加油喔。")])}]};var T=s("ngHh")(D,I,!1,function(t){s("Lac0")},null,null).exports,S={name:"lottery",data:function(){return{isLotterying:!1,score:"",result:"",blocks:[{index:1,turn:!1,reward:"吉品新年礼",selected:!1},{index:2,turn:!1,reward:"精美雨伞",selected:!1},{index:3,turn:!1,reward:"瑞香新年礼",selected:!1},{index:8,turn:!1,reward:"谢谢参与",selected:!1},{index:9,turn:!1,reward:"立即抽奖",selected:!1},{index:4,turn:!1,reward:"紫光新年礼",selected:!1},{index:7,turn:!1,reward:"谢谢参与",selected:!1},{index:6,turn:!1,reward:"谢谢参与",selected:!1},{index:5,turn:!1,reward:"浴巾",selected:!1}],speed:100,decayIndex:0,activeIndex:-1,speedState:"start",drawTimer:"",prizesCount:8,isDrawing:!1,startDrawIndex:1,speedCtrlFn:"",decayDistance:5,wonIndex:4}},components:{rule:C},mounted:function(){var t=this;this.$nextTick(function(){t.score=t.$route.query.score})},methods:{beginLoterry:function(){var t=this;if(!this.isLotterying){this.isLotterying=!0,this.start(),console.log(this.score);var e=$.a.stringify({DrawType:1,Score:this.score});console.log(this.params),g.a.post("/Index/GetDraw",e,{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(function(e){var s=e.data;if(1!==s.Code)return d.a.reject(s);var a=s.Data;if(a.IsWin){window.$rewards||(window.$rewards=[]),window.$rewards.push(a.AwardRecord);var i=a.AwardRecord;i.AwardId>=6?setTimeout(function(){t.wonIndex=8,t.stop()},2e3):setTimeout(function(){t.wonIndex=i.AwardId||8,t.stop()},2e3)}else setTimeout(function(){var e=3*Math.random()<<0;t.wonIndex=t.blocks[[3,6,7][e]].index,t.stop()},2e3)}).catch(function(e){console.log(e),setTimeout(function(){var e=3*Math.random()<<0;t.wonIndex=t.blocks[[3,6,7][e]].index,t.stop()},2e3)})}},begin:function(){var t=this;this.start(),setTimeout(function(){t.wonIndex=8*Math.random()+1<<0,t.stop()},2e3)},stop:function(){this.isDrawing=!1},start:function(t){var e=this;this.speedCtrlFn=t||function(t){var s=e.speed;switch(t){case"start":break;case"decay":s=Math.min(s+this.decayIndex*(400/this.decayDistance),600)}return s},this.startDraw()},startDraw:function(){var t=this;this.drawIndex=this.startDrawIndex,this.isDrawing=!0,this.startIndex=1,this.speedState="start",this.drawing(function(){return t.startIndex++,!!t.isDrawing||(t.decay(),!1)})},drawingCallback:function(t,e){this.activeIndex=t},drawing:function(t,e){var s=this;window.clearTimeout(s.drawTimer);var a=e||s.speedCtrlFn.call(this,this.speedState)||200;s.drawingCallback&&s.drawingCallback(s.drawIndex,a),t&&t.call(s)&&(s.drawTimer=window.setTimeout(function(){s.increaseDrawIndex(),s.drawing(t)},a))},increaseDrawIndex:function(){this.drawIndex++,this.drawIndex>this.prizesCount&&(this.drawIndex=1)},decay:function(){var t=this,e=this.wonIndex-this.decayDistance%this.prizesCount;e<=0&&(e+=this.prizesCount),this.drawing(function(){return t.drawIndex!==e||(t.decayDraw(),!1)})},decayDraw:function(){var t=this;this.decayIndex=1,this.speedState="decay",this.drawing(function(){return t.decayIndex++,!(t.decayIndex>=t.decayDistance&&t.drawIndex===t.wonIndex)||(t.wonCallback&&t.wonCallback(t.wonIndex),!1)})},wonCallback:function(t){for(var e=this,s=function(s){if(e.blocks[s].index===t)return e.blocks[s].turn=!0,e.blocks[s].selected=!0,setTimeout(function(){e.result=e.blocks[s]},2e3),"break"},a=this.blocks.length;a--;){if("break"===s(a))break}setTimeout(function(){for(var s=e.blocks.length;s--;)9!==e.blocks[s].index&&e.blocks[s].index!==t&&(e.blocks[s].turn=!0)},500)}}},E={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"lottery-page"},[s("img",{staticClass:"bg-img",attrs:{src:"/static/img/lotteryBg.jpg"}}),t._v(" "),s("img",{staticClass:"logo-img",attrs:{src:"/static/img/text.png"}}),t._v(" "),s("img",{staticClass:"logo-bottom-img",attrs:{src:"/static/img/logo2.png"}}),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:!t.result,expression:"!result"}],staticClass:"loterry-panel"},t._l(t.blocks,function(e){return s("div",{key:e.index,staticClass:"block-item",class:{turn:e.turn,selected:e.selected}},[s("div",{staticClass:"front block-item-page",class:{"click-btn":9===e.index,active:t.activeIndex===e.index}},[9===e.index?s("div",{staticClass:"block-reward-text",staticStyle:{color:"#fff"},on:{click:function(e){e.preventDefault(),t.beginLoterry(e)}}},[t._v("立即抽奖")]):t._e()]),t._v(" "),s("div",{staticClass:"back block-item-page"},[s("div",{staticClass:"block-reward-text small-text"},[t._v("\n          "+t._s(e.reward.slice(0,2))),s("br"),t._v(t._s(e.reward.slice(2))+"\n          ")])])])})),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:t.result,expression:"result"}],staticClass:"lottery-dialog"},[s("div",{staticClass:"dialog-box"},[s("div",{directives:[{name:"show",rawName:"v-show",value:"谢谢参与"!==t.result.reward,expression:"result.reward !== '谢谢参与'"}]},[s("p",{staticClass:"reward-name"},[t._v(t._s(t.result.reward))]),t._v(" "),s("p",{staticClass:"reward-name-small"},[t._v("恭喜您获得“滕王阁幸福家”"),s("br"),t._v(t._s(t.result.reward)+"一份")]),t._v(" "),s("div",{staticClass:"operation"},[s("span",{staticClass:"operation-btn",on:{click:function(e){e.preventDefault(),t.$router.replace({name:"info"})}}},[t._v("填写信息")])])]),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:"谢谢参与"===t.result.reward,expression:"result.reward === '谢谢参与'"}],staticStyle:{"text-align":"center"}},[s("img",{staticClass:"not-reward",attrs:{src:"/static/img/smile.png"}}),t._v(" "),t._m(0),t._v(" "),s("div",{staticClass:"operation"},[s("span",{staticClass:"operation-btn",staticStyle:{"margin-right":"1rem"},on:{click:function(e){e.preventDefault(),t.$router.push({name:"home"})}}},[t._v("返回首页")]),t._v(" "),s("span",{staticClass:"operation-btn",on:{click:function(e){e.preventDefault(),t.$router.push({name:"game"})}}},[t._v("再来一局")])])])])])])},staticRenderFns:[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("p",{staticClass:"reward-name-small",staticStyle:{"font-size":"1.8rem"}},[t._v("哎呀，与幸福擦肩而过"),s("br"),t._v("非常抱歉没有中奖"),s("br"),t._v("明天要继续加油哦！")])}]};var M=s("ngHh")(S,E,!1,function(t){s("0uTI")},null,null).exports,N={name:"info",data:function(){return{showReback:!0,target:{},name:"",phone:"",address:"",hasChange:!1}},beforeRouteEnter:function(t,e,s){s(function(t){"lottery"===e.name&&(t.$data.showReback=!1)})},mounted:function(){var t=this;this.$nextTick(function(){var e=t.$route.query.index||"",s=window.$rewards&&window.$rewards[e-0];s&&(t.name=s.UserName||"",t.phone=s.UserPhone||"",t.address=s.UserAddress||"",t.hasChange=s.IsChange||!1),t.target=s||{},console.log(window.$rewards,t.target,"test")})},methods:{goback:function(){window.history.go(-1)},subMit:function(){var t=this;if(this.name.replace(/\s/g,""))if(this.phone.replace(/\s/g,""))if(this.address.replace(/\s/g,"")){var e=$.a.stringify({UserName:this.name,UserPhone:this.phone,UserAddress:this.address,AwardId:this.target.AwardId});g.a.post("/Index/SaveInfo",e,{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(function(e){var s=e.data;if(1!==s.Code)return d.a.reject(s);s.Data.Statue?t.$router.push({name:"last"}):"saveed"===s.msg&&t.$bus.$emit("pop-alert","您已提交过信息，不能重复提交")}).catch(function(e){console.log(e),t.$bus.$emit("pop-alert","未知错误")})}else this.$bus.$emit("pop-alert","地址不能为空");else this.$bus.$emit("pop-alert","手机号不能为空");else this.$bus.$emit("pop-alert","用户名不能为空")}}},q={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"info-page"},[s("img",{staticClass:"bg-img",attrs:{src:"/static/img/lotteryBg.jpg"}}),t._v(" "),s("img",{staticClass:"logo-img",attrs:{src:"/static/img/text.png"}}),t._v(" "),s("img",{staticClass:"logo-bottom-img",attrs:{src:"/static/img/logo2.png"}}),t._v(" "),s("div",{staticClass:"input-panel"},[s("span",{staticClass:"input-item"},[s("span",{staticClass:"input-item-title"},[t._v("姓名")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],attrs:{type:"text"},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value)}}})]),t._v(" "),s("span",{staticClass:"input-item"},[s("span",{staticClass:"input-item-title"},[t._v("电话")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.phone,expression:"phone"}],attrs:{type:"text"},domProps:{value:t.phone},on:{input:function(e){e.target.composing||(t.phone=e.target.value)}}})]),t._v(" "),s("span",{staticClass:"input-item"},[s("span",{staticClass:"input-item-title"},[t._v("地址")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.address,expression:"address"}],attrs:{type:"text"},domProps:{value:t.address},on:{input:function(e){e.target.composing||(t.address=e.target.value)}}})]),t._v(" "),s("div",{staticStyle:{"text-align":"center"}},[s("span",{directives:[{name:"show",rawName:"v-show",value:t.showReback,expression:"showReback"}],staticClass:"submit-btn",staticStyle:{"margin-right":"1rem"},on:{click:function(e){e.preventDefault(),t.goback(e)}}},[t._v("返回")]),t._v(" "),s("span",{directives:[{name:"show",rawName:"v-show",value:!t.hasChange,expression:"!hasChange"}],staticClass:"submit-btn",on:{click:function(e){e.preventDefault(),t.subMit(e)}}},[t._v("提交")])])])])},staticRenderFns:[]};var L=s("ngHh")(N,q,!1,function(t){s("2crx")},null,null).exports,P={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"last-page"},[s("img",{staticClass:"bg-img",attrs:{src:"/static/img/last.jpg"}}),t._v(" "),s("img",{staticClass:"logo-bottom-img",attrs:{src:"/static/img/logo2.png"}}),t._v(" "),s("div",{staticClass:"rightside"},[s("div",{staticClass:"rightside-btn",on:{click:function(e){e.preventDefault(),t.$router.push({name:"home"})}}},[t._m(0)])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"btn-text"},[this._v("返回"),e("br"),this._v("首页")])}]};var R=s("ngHh")({name:"home",data:function(){return{}},mounted:function(){},methods:{}},P,!1,function(t){s("NLJn")},null,null).exports;a.a.use(o.a);var j,A,z,F,O,H=new o.a({routes:[{path:"/",name:"home",component:x},{path:"/game",name:"game",component:T},{path:"/lottery",name:"lottery",component:M},{path:"/info",name:"info",component:L},{path:"/last",name:"last",component:R}]}),B=new a.a;window.onload=function(){document.documentElement.style.webkitTouchCallout="none"},j=document,A=window,z=j.documentElement,F="onorientationchange"in window?"orientationchange":"resize",O=function(){var t=z.clientWidth;t&&(z.style.fontSize=t/320*10+"px")},A.addEventListener(F,O,!1),j.addEventListener("DOMContentLoaded",O,!1),a.a.config.productionTip=!1,a.a.prototype.$rewards=[],a.a.prototype.$bus=B;var U=navigator.userAgent;window.isAndroid=U.indexOf("Android")>-1||U.indexOf("Adr")>-1,window.isIOS=!!U.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/),new a.a({el:"#app",router:H,components:{App:r},template:"<App/>"})},NLJn:function(t,e){},Rmdg:function(t,e){},T7vy:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.b28b716df11f7dc6be6e.js.map